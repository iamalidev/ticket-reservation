<h1>Ticket Reservation</h1>
<form [formGroup]="form" (ngSubmit)="submitForm()">
  <mat-form-field appearance="fill">
    <mat-label>First Name</mat-label>
    <input matInput formControlName="firstName" />
    @if (form.controls['firstName'].invalid &&
    form.controls['firstName'].touched) {
    <mat-error> First name is required! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Last Name</mat-label>
    <input matInput formControlName="lastName" />
    @if (form.controls['lastName'].invalid && form.controls['lastName'].touched)
    {
    <mat-error> Last name is required! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Email</mat-label>
    <input matInput formControlName="email" type="email" />
    @if (form.controls['email'].invalid && form.controls['email'].touched) {
    <mat-error> Please enter a valid email! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Phone</mat-label>
    <input matInput formControlName="phone" />
    @if (form.controls['phone'].invalid && form.controls['phone'].touched) {
    <mat-error> Phone number is required! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Country</mat-label>
    <mat-select formControlName="country">
      @for (country of countries; track country) {
      <mat-option [value]="country.value">
        {{ country.viewValue }}
      </mat-option>
      }
    </mat-select>
    @if (form.controls['country'].invalid && form.controls['country'].touched) {
    <mat-error> Please select a country! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>City</mat-label>
    <input matInput formControlName="city" />
    @if (form.controls['city'].invalid && form.controls['city'].touched) {
    <mat-error> City is required! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Choose a date</mat-label>
    <input matInput [matDatepicker]="datePicker" formControlName="date" />
    <mat-datepicker-toggle
      matIconSuffix
      [for]="datePicker"
    ></mat-datepicker-toggle>
    <mat-datepicker #datePicker></mat-datepicker>
    @if (form.controls['date'].invalid && form.controls['date'].touched) {
    <mat-error> Please select a date! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Pick a time</mat-label>
    <input matInput [matTimepicker]="timePicker" formControlName="time" />
    <mat-timepicker-toggle matIconSuffix [for]="timePicker" />
    <mat-timepicker #timePicker />
    @if (form.controls['time'].invalid && form.controls['time'].touched) {
    <mat-error> Please pick a time! </mat-error>
    }
  </mat-form-field>

  <button mat-flat-button color="primary" type="submit">Submit</button>
</form>
